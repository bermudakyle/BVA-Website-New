# ── Backend ───────────────────────────────────────────────────────────────────
# For LOCAL development: set local_backend: true and run `npm run cms:local`
# No login required locally — the CMS reads/writes directly to your filesystem.
#
# For PRODUCTION: fill in your GitHub repo and deploy the Sveltia Auth Worker.
# See: https://github.com/sveltia/sveltia-cms-auth for the one-time Cloudflare setup.

backend:
  name: github
  repo: bermudakyle/BVA-Website-New
  branch: main
  base_url: https://sveltia-cms-auth.bermuda-kyle.workers.dev/   # Sveltia OAuth proxy (production only)

# Uncomment the line below for local development (disables OAuth, saves to local files)
# local_backend: true

# ── Media ─────────────────────────────────────────────────────────────────────
media_folder: assets/images/uploads
public_folder: /assets/images/uploads

# ── Collections ───────────────────────────────────────────────────────────────
collections:

  # ── News Articles ────────────────────────────────────────────────────────────
  - name: news
    label: News Articles
    label_singular: Article
    folder: content/news
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    sortable_fields: [date, title]
    view_groups:
      - label: Category
        field: category
    preview_path: "news.html"
    fields:
      - label: Title
        name: title
        widget: string
        hint: "Article headline — keep it clear and concise."

      - label: Publish Date
        name: date
        widget: datetime
        format: "YYYY-MM-DD"
        date_format: "MMMM D, YYYY"
        time_format: false

      - label: Category
        name: category
        widget: select
        options:
          - { label: "National Teams",   value: "National Teams" }
          - { label: "Junior Programs",  value: "Junior Programs" }
          - { label: "Leagues",          value: "Leagues" }
          - { label: "Tournaments",      value: "Tournaments" }
          - { label: "Youth Programs",   value: "Youth Programs" }
          - { label: "Association",      value: "Association" }

      - label: Excerpt
        name: excerpt
        widget: text
        hint: "Short summary shown on news listing cards (2–3 sentences max)."

      - label: Featured Image
        name: image
        widget: image
        required: false
        multiple: false
        hint: "Main image for this article. Displayed on the news card and at the top of the article."

      - label: Featured Article
        name: featured
        widget: boolean
        default: false
        hint: "Pin this article as the featured (large) story at the top of the news page. Only one article should be featured at a time."

      - label: Body
        name: body
        widget: markdown
        hint: "Full article content. Use headings (##, ###), bold, links, and lists freely."

  # ── Homepage Page Builder ─────────────────────────────────────────────────────
  - name: homepage
    label: Homepage
    files:
      - label: "Page Builder"
        name: homepage_config
        file: content/homepage.json
        fields:

          - label: "Hero Slides"
            name: heroSlides
            widget: list
            min: 1
            max: 8
            summary: "{{fields.alt}}"
            hint: "Drag rows to reorder slides. The first slide is shown when the page loads. Upload images to assets/images/uploads/ for best results."
            fields:
              - label: Image
                name: image
                widget: image
                hint: "Use a landscape photo, ideally 1200×800px or larger."
              - label: Alt Text
                name: alt
                widget: string
                hint: "Describe the image for screen readers and SEO (e.g. 'Men's beach volleyball at Horseshoe Bay')."

          - label: "Homepage Section Order"
            name: sectionOrder
            widget: list
            min: 3
            max: 3
            summary: "{{fields.id}}"
            hint: "Drag rows to reorder the three main content sections on the homepage. All three must be present."
            fields:
              - label: Section
                name: id
                widget: select
                options:
                  - { label: "Quick Links",     value: "quick-links" }
                  - { label: "Programs Mosaic", value: "programs" }
                  - { label: "News + Events",   value: "news-events" }

  # ── Site Pages ────────────────────────────────────────────────────────────────
  - name: pages
    label: Site Pages
    files:

      - label: Events
        name: events
        file: content/pages/events.json
        fields:
          - label: Events
            name: events
            widget: list
            summary: "{{fields.title}}"
            fields:
              - {label: "Month Label (e.g. March — leave blank for non-first event of month)", name: monthLabel, widget: string, required: false}
              - {label: Day Number, name: day, widget: string}
              - {label: Month Abbreviation, name: month, widget: string}
              - {label: Title, name: title, widget: string}
              - {label: Tag Label, name: tag, widget: string}
              - {label: "Tag Type (camp / tournament / league)", name: tagType, widget: string, required: false}
              - {label: "Meta (e.g. time & location)", name: meta, widget: string}
              - {label: Description, name: description, widget: text}
              - {label: Link URL, name: link, widget: string, required: false}
              - {label: Link Label, name: linkLabel, widget: string, required: false}

      - label: Executives
        name: executives
        file: content/pages/executives.json
        fields:
          - label: Board of Directors
            name: board
            widget: list
            summary: "{{fields.name}}"
            fields:
              - {label: Name, name: name, widget: string}
              - {label: Role, name: role, widget: string}
              - {label: Photo, name: photo, widget: image, required: false}
          - label: Coaching Staff
            name: coaches
            widget: list
            summary: "{{fields.name}}"
            fields:
              - {label: Name, name: name, widget: string}
              - {label: Role, name: role, widget: string}
              - {label: Photo, name: photo, widget: image, required: false}

      - label: Leagues
        name: leagues
        file: content/pages/leagues.json
        fields:
          - label: Leagues
            name: leagues
            widget: list
            summary: "{{fields.title}}"
            fields:
              - {label: "ID (anchor, e.g. beach / indoor / grass)", name: id, widget: string}
              - {label: Image, name: image, widget: image, required: false}
              - {label: Image Alt Text, name: imageAlt, widget: string}
              - {label: Type Label, name: type, widget: string}
              - {label: Title, name: title, widget: string}
              - {label: Season, name: season, widget: string}
              - {label: Description, name: description, widget: text}
              - {label: Tags, name: tags, widget: list}
          - label: Tournaments
            name: tournaments
            widget: list
            summary: "{{fields.title}}"
            fields:
              - {label: Icon (emoji), name: icon, widget: string}
              - {label: Title, name: title, widget: string}
              - {label: Date, name: date, widget: string}
              - {label: Format, name: format, widget: string}
              - {label: Venue, name: venue, widget: string}

      - label: Membership
        name: membership
        file: content/pages/membership.json
        fields:
          - label: Pricing Plans
            name: plans
            widget: list
            summary: "{{fields.badge}}"
            fields:
              - {label: Badge Label, name: badge, widget: string}
              - {label: "Featured Class (pricing-featured or leave blank)", name: featuredClass, widget: string, required: false}
              - {label: "Badge Class (featured-badge or leave blank)", name: badgeClass, widget: string, required: false}
              - {label: Price, name: price, widget: string}
              - {label: Period, name: period, widget: string}
              - {label: Features, name: features, widget: list}
              - {label: CTA Link, name: ctaLink, widget: string}
              - {label: CTA Label, name: ctaLabel, widget: string}
              - {label: "CTA CSS Class (btn-primary / btn-outline)", name: ctaClass, widget: string}
          - label: Registration Steps
            name: steps
            widget: list
            summary: "{{fields.title}}"
            fields:
              - {label: Step Number, name: num, widget: string}
              - {label: Title, name: title, widget: string}
              - {label: Description, name: desc, widget: text}

      - label: About BVA
        name: about
        file: content/pages/about.json
        fields:
          - {label: Mission Paragraph 1, name: missionPara1, widget: text}
          - {label: Mission Paragraph 2, name: missionPara2, widget: text}
          - label: Stats Bar
            name: stats
            widget: list
            summary: "{{fields.label}}"
            fields:
              - {label: Number, name: num, widget: string}
              - {label: Label, name: label, widget: string}
          - label: What We Offer (Pillars)
            name: pillars
            widget: list
            summary: "{{fields.title}}"
            fields:
              - {label: Icon (emoji), name: icon, widget: string}
              - {label: Title, name: title, widget: string}
              - {label: Description, name: description, widget: text}
          - label: Affiliations
            name: affiliations
            widget: list
            summary: "{{fields.name}}"
            fields:
              - {label: Abbreviation, name: abbr, widget: string}
              - {label: Full Name, name: name, widget: string}
              - {label: Description, name: description, widget: text}

      - label: Programs Overview
        name: programs
        file: content/pages/programs.json
        fields:
          - label: Programs
            name: programs
            widget: list
            summary: "{{fields.title}}"
            fields:
              - {label: Link URL, name: link, widget: string}
              - {label: Image, name: image, widget: image, required: false}
              - {label: Image Alt Text, name: imageAlt, widget: string}
              - {label: Badge, name: badge, widget: string}
              - {label: Title, name: title, widget: string}
              - {label: Description, name: description, widget: text}

      - label: "Junior Girls (Paradise Hitters)"
        name: junior-girls
        file: content/pages/junior-girls.json
        fields:
          - {label: About Paragraph 1, name: para1, widget: text}
          - {label: About Paragraph 2, name: para2, widget: text}
          - {label: About Paragraph 3, name: para3, widget: text}
          - label: "What's Included"
            name: includes
            widget: list
            summary: "{{fields.item}}"
            fields:
              - {label: Item, name: item, widget: string}
          - {label: Season Fee, name: fee, widget: string}
          - {label: Age Group, name: ageGroup, widget: string}
          - label: Quick Facts
            name: facts
            widget: list
            summary: "{{fields.label}}"
            fields:
              - {label: Label, name: label, widget: string}
              - {label: Value, name: value, widget: string}

      - label: "Junior Boys (Big Wave Riders)"
        name: junior-boys
        file: content/pages/junior-boys.json
        fields:
          - {label: About Paragraph 1, name: para1, widget: text}
          - {label: About Paragraph 2, name: para2, widget: text}
          - {label: About Paragraph 3, name: para3, widget: text}
          - label: "What's Included"
            name: includes
            widget: list
            summary: "{{fields.item}}"
            fields:
              - {label: Item, name: item, widget: string}
          - {label: Season Fee, name: fee, widget: string}
          - {label: Age Group, name: ageGroup, widget: string}
          - label: Quick Facts
            name: facts
            widget: list
            summary: "{{fields.label}}"
            fields:
              - {label: Label, name: label, widget: string}
              - {label: Value, name: value, widget: string}

      - label: "Men's National Team"
        name: mens-national
        file: content/pages/mens-national.json
        fields:
          - {label: About Paragraph 1, name: para1, widget: text}
          - {label: About Paragraph 2, name: para2, widget: text}
          - {label: About Paragraph 3, name: para3, widget: text}
          - label: Competitions
            name: competitions
            widget: list
            summary: "{{fields.name}}"
            fields:
              - {label: Icon (emoji), name: icon, widget: string}
              - {label: Name, name: name, widget: string}
              - {label: Description, name: description, widget: text}
          - label: Team Info Facts
            name: facts
            widget: list
            summary: "{{fields.label}}"
            fields:
              - {label: Label, name: label, widget: string}
              - {label: Value, name: value, widget: string}

      - label: "Women's National Team"
        name: womens-national
        file: content/pages/womens-national.json
        fields:
          - {label: About Paragraph 1, name: para1, widget: text}
          - {label: About Paragraph 2, name: para2, widget: text}
          - {label: About Paragraph 3, name: para3, widget: text}
          - label: Competitions
            name: competitions
            widget: list
            summary: "{{fields.name}}"
            fields:
              - {label: Icon (emoji), name: icon, widget: string}
              - {label: Name, name: name, widget: string}
              - {label: Description, name: description, widget: text}
          - label: Team Info Facts
            name: facts
            widget: list
            summary: "{{fields.label}}"
            fields:
              - {label: Label, name: label, widget: string}
              - {label: Value, name: value, widget: string}

      - label: National Beach Team
        name: national-beach-team
        file: content/pages/national-beach-team.json
        fields:
          - {label: About Paragraph 1, name: para1, widget: text}
          - {label: About Paragraph 2, name: para2, widget: text}
          - {label: About Paragraph 3, name: para3, widget: text}
          - label: Training Groups
            name: groups
            widget: list
            summary: "{{fields.name}}"
            fields:
              - {label: Icon (emoji), name: icon, widget: string}
              - {label: Name, name: name, widget: string}
              - {label: Description, name: description, widget: text}
          - label: Team Info Facts
            name: facts
            widget: list
            summary: "{{fields.label}}"
            fields:
              - {label: Label, name: label, widget: string}
              - {label: Value, name: value, widget: string}

      - label: Youth Camps
        name: youth-camps
        file: content/pages/youth-camps.json
        fields:
          - {label: About Paragraph 1, name: para1, widget: text}
          - {label: About Paragraph 2, name: para2, widget: text}
          - label: Daily Schedule
            name: schedule
            widget: list
            summary: "{{fields.time}}"
            fields:
              - {label: Time, name: time, widget: string}
              - {label: Activity, name: activity, widget: string}

      - label: Coaching Program
        name: coaching
        file: content/pages/coaching.json
        fields:
          - {label: About Paragraph 1, name: para1, widget: text}
          - {label: About Paragraph 2, name: para2, widget: text}
          - {label: About Paragraph 3, name: para3, widget: text}
          - label: Program Info Facts
            name: facts
            widget: list
            summary: "{{fields.label}}"
            fields:
              - {label: Label, name: label, widget: string}
              - {label: Value, name: value, widget: string}

  # ── League Match Nights ────────────────────────────────────────────────────────
  - name: league-data
    label: League Match Nights
    label_singular: Match Night
    folder: content/league-data
    create: true
    delete: true
    extension: json
    format: json
    slug: "{{fields.league}}-{{year}}-{{month}}-{{day}}"
    sortable_fields: [date, league]
    fields:
      - label: League
        name: league
        widget: select
        options:
          - { label: "Summer Beach League", value: "beach" }
          - { label: "Winter Indoor League", value: "indoor" }
          - { label: "Grass League",         value: "grass" }
      - label: Date
        name: date
        widget: datetime
        format: "YYYY-MM-DD"
        date_format: "MMMM D, YYYY"
        time_format: false
      - label: Rungs
        name: rungs
        widget: list
        hint: "Add one entry per Rung played this night (e.g. Rung 1, Rung 2)."
        fields:
          - { label: "Rung Name", name: name, widget: string, hint: "e.g. Rung 1" }
          - label: Matches
            name: matches
            widget: list
            hint: "Add each match played in this Rung."
            fields:
              - { label: "Team 1", name: team1, widget: string }
              - { label: "Team 2", name: team2, widget: string }
              - { label: "Team 1 Sets Won", name: team1Sets, widget: number, value_type: int, min: 0 }
              - { label: "Team 2 Sets Won", name: team2Sets, widget: number, value_type: int, min: 0 }
              - { label: "Team 1 Total Points", name: team1Points, widget: number, value_type: int, min: 0 }
              - { label: "Team 2 Total Points", name: team2Points, widget: number, value_type: int, min: 0 }
